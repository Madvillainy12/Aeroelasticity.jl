<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · Aeroelasticity.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Aeroelasticity.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Installing-Aeroelasticity.jl"><span>Installing Aeroelasticity.jl</span></a></li><li><a class="tocitem" href="#Assembling-a-Coupled-Model"><span>Assembling a Coupled Model</span></a></li><li><a class="tocitem" href="#Defining-Model-Parameters"><span>Defining Model Parameters</span></a></li><li><a class="tocitem" href="#Performing-a-Steady-State-Analysis"><span>Performing a Steady State Analysis</span></a></li><li><a class="tocitem" href="#Performing-a-Stability-Analysis"><span>Performing a Stability Analysis</span></a></li><li><a class="tocitem" href="#Performing-a-Time-Domain-Simulation"><span>Performing a Time Domain Simulation</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><span class="tocitem">Model Documentation</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Aerodynamic Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../aerodynamics/steady/">Steady Thin Airfoil Theory</a></li><li><a class="tocitem" href="../aerodynamics/quasisteady/">Quasi-Steady Thin Airfoil Theory</a></li><li><a class="tocitem" href="../aerodynamics/wagner/">Wagner&#39;s Function</a></li><li><a class="tocitem" href="../aerodynamics/peters/">Peters&#39; Finite State</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Structural Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../structures/section/">Typical Section</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Coupled Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../couplings/steady-section/">Steady Thin Airfoil Theory + Typical Section</a></li><li><a class="tocitem" href="../couplings/quasisteady-section/">Quasi-Steady Thin Airfoil Theory + Typical Section</a></li><li><a class="tocitem" href="../couplings/wagner-section/">Wagner&#39;s Function + Typical Section</a></li><li><a class="tocitem" href="../couplings/peters-section/">Peters&#39; Finite State + Typical Section</a></li></ul></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../library/public/">Public</a></li><li><a class="tocitem" href="../library/internals/">Internals</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/Aeroelasticity.jl/blob/master/docs/src/guide.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h1><p>This guide introduces the basic functionality of this package in a step by step manner.  This is a good starting point for learning about how to use this package.  For more details about how to use a particular model or coupling, refer to the documentation for that particular model or coupling.  For more examples of how to use this package see the <a href="@ref Examples">examples</a>.</p><ul></ul><h2 id="Installing-Aeroelasticity.jl"><a class="docs-heading-anchor" href="#Installing-Aeroelasticity.jl">Installing Aeroelasticity.jl</a><a id="Installing-Aeroelasticity.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Installing-Aeroelasticity.jl" title="Permalink"></a></h2><p>If you haven&#39;t yet, now would be a good time to install Aeroelasticity.jl.  It can be installed from the Julia REPL by typing <code>]</code> (to enter the package manager) and then running the following command.</p><pre><code class="language-julia hljs">pkg&gt; add https://flow.byu.edu/Aeroelasticity.jl.jl</code></pre><p>Now, that the package is installed we need to load it so that we can use it.</p><pre><code class="language-julia hljs">using Aeroelasticity</code></pre><h2 id="Assembling-a-Coupled-Model"><a class="docs-heading-anchor" href="#Assembling-a-Coupled-Model">Assembling a Coupled Model</a><a id="Assembling-a-Coupled-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Assembling-a-Coupled-Model" title="Permalink"></a></h2><p>For the purposes of this guide, we will be working with a two-degree-of-freedom typical section model, as shown in the following figure.</p><p><img src="../typical-section.svg" alt/></p><p>Our goal is to create an 2D aeroelastic model which we can use to simulate the behavior of this system.  For the aerodynamic model, we will be using Peters&#39; finite state model (see <a href="../aerodynamics/peters/#Aeroelasticity.Peters"><code>Peters</code></a>).  For the structural model, we will be using a two degree of freedom typical section model (see <a href="../structures/section/#Aeroelasticity.Section"><code>Section</code></a>).  To assemble an aeroelastic model using these two models we use the <a href="@ref"><code>assemble_model</code></a> function.</p><pre><code class="language-julia hljs">model = assemble_model(
    aerodynamic_model = Peters{4}(),
    structural_model = Section())</code></pre><h2 id="Defining-Model-Parameters"><a class="docs-heading-anchor" href="#Defining-Model-Parameters">Defining Model Parameters</a><a id="Defining-Model-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-Model-Parameters" title="Permalink"></a></h2><p>Model parameters are defined using the <a href="@ref"><code>assemble_parameters</code></a> function.  In addition to the aerodynamic and structural parameters, we need to define a set of additional parameters for the model coupling.  A description of these parameters may be found in the documentation for each submodel and for the coupling.</p><pre><code class="language-julia hljs"># non-dimensional parameters
V = 1.0 # = U/(b*ωθ) (reduced velocity)
a = -1/5 # reference point normalized location
e = -1/10 # center of mass normalized location
μ = 20 # = m/(ρ*pi*b^2) (mass ratio)
r2 = 6/25 # = Iθ/(m*b^2) (radius of gyration about P)
σ = 2/5 # = ωh/ωθ (natural frequency ratio)
xθ = e - a # normalized distance from the reference point to the center of mass
a0 = 2*pi # lift curve slope
α0 = 0 # zero lift angle
cd0 = 0 # zero lift drag coefficient
cm0 = 0 # zero lift moment coefficient

# chosen dimensional parameters
b = 0.5 # semi-chord
ρ = 1 # air density
ωθ = 1 # pitch natural frequency
c = 343 # air speed of sound

# dimensionalized parameters
U = V*b*ωθ # velocity
m = μ*ρ*pi*b^2 # mass
Sθ = m*xθ*b # structural imbalance
Iθ = r2*m*b^2 # moment of inertia
ωh = σ*ωθ # plunge natural frequency
kh = m*ωh^2 # linear spring constant
kθ = Iθ*ωθ^2 # torsional spring constant

p = assemble_parameters(model;
    aerodynamic_parameters = (a=a, b=b, a0=a0, alpha0=α0, cd0=cd0, cm0=cm0),
    structural_parameters = (kh=kh, ktheta=kθ, m=m, Stheta=Sθ, Itheta=Iθ),
    additional_parameters = (U=U, rho=ρ, c=c)
)</code></pre><h2 id="Performing-a-Steady-State-Analysis"><a class="docs-heading-anchor" href="#Performing-a-Steady-State-Analysis">Performing a Steady State Analysis</a><a id="Performing-a-Steady-State-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Performing-a-Steady-State-Analysis" title="Permalink"></a></h2><p>We can find steady state solution for our model using <a href="https://github.com/SciML/DifferentialEquations.jl"><code>DifferentialEquations</code></a>.</p><pre><code class="language-julia hljs">using DifferentialEquations

f = ODEFunction(model)

# initial guess for state variables
x0 = zeros(number_of_states(model))

# steady state problem
prob = SteadyStateProblem(f, x0, p)

# steady state solution
x_ss = solve(prob, SSRootfind())</code></pre><p>Note that since our system is linear with respect to the state variables, the equilibrium point of our system will be at the origin.</p><h2 id="Performing-a-Stability-Analysis"><a class="docs-heading-anchor" href="#Performing-a-Stability-Analysis">Performing a Stability Analysis</a><a id="Performing-a-Stability-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Performing-a-Stability-Analysis" title="Permalink"></a></h2><p>The stability of a model for a given set of state variables, inputs, and parameters may be determined by calling the <a href="../library/public/#Aeroelasticity.get_eigen"><code>get_eigen</code></a> function, which returns eigenvalues, left eigenvectors, and right eigenvectors.  For nonlinear systems, the provided state variables must correspond to an equilibrium point for the stability analysis to be theoretically valid.  Since our aeroelastic system is linear with respect to the state variables, any set of state variables will yield the same result.</p><pre><code class="language-julia hljs">K, M = linearize(model, x_ss, p)

λ, U, V = get_eigen(model, K, M)</code></pre><p>A positive real part corresponding to any eigenvalue returned from the <a href="../library/public/#Aeroelasticity.get_eigen"><code>get_eigen</code></a> function indicates that the system is unstable for the provided set of state variables, inputs, and parameters.</p><h2 id="Performing-a-Time-Domain-Simulation"><a class="docs-heading-anchor" href="#Performing-a-Time-Domain-Simulation">Performing a Time Domain Simulation</a><a id="Performing-a-Time-Domain-Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Performing-a-Time-Domain-Simulation" title="Permalink"></a></h2><p>We can simulate the behavior of our system using <a href="https://github.com/SciML/DifferentialEquations.jl"><code>DifferentialEquations</code></a>.  Initial state variable values and rates may be specified using  the <a href="@ref"><code>assemble_states</code></a> function.</p><pre><code class="language-julia hljs">using DifferentialEquations

# construct ODE function
f = ODEFunction(model)

# non-zero plunge degree of freedom
x0 = assemble_states(model;
    aerodynamic_states = (;lambda=zeros(4)),
    structural_states = (;h=0.5, theta=0, hdot=0, thetadot=0))

# simulate for 100 seconds
tspan = (0.0, 100.0)

# assemble problem
prob = DifferentialEquations.ODEProblem(f, x0, tspan, p)

# solve ODE problem
sol = DifferentialEquations.solve(prob)</code></pre><p>We can use DifferentialEquations&#39; built-in interface with the <a href="https://github.com/JuliaPlots/Plots.jl">Plots</a> package to plot the simulation results.</p><pre><code class="language-julia hljs">using Plots
pyplot()

plot(sol,
    vars = [5,6,7,8],
    xlabel = &quot;t&quot;,
    ylabel = permutedims([
        &quot;\$h\$&quot;,
        &quot;\$\\theta\$&quot;,
        &quot;\$\\dot{h}\$&quot;,
        &quot;\$\\dot{\\theta}\$&quot;,
        ]),
    label = &quot;&quot;,
    layout = (4, 1),
    size = (600,1200)
    )</code></pre><p><img src="../guide-solution.svg" alt/></p><p>We can also visualize the results of the typical section model using the <a href="@ref"><code>section_coordinates</code></a> function.</p><pre><code class="language- hljs">
# animation parameters
a = -1/5
b = 0.5

# create animation
anim = @animate for t in range(tspan[1], tspan[2], length=200)
    h, θ = sol(t, idxs=7:8)
    xplot, yplot = section_coordinates(h, θ; a, b)
    plot(xplot, yplot;
        framestyle = :origin,
        grid = :false,
        xlims = (-1.0, 1.0),
        ylims = (-0.75, 0.75),
        aspect_ratio = 1.0,
        label = &quot;t = $(round(t, digits=1))&quot;)
end

gif(anim, &quot;guide-simulation.gif&quot;)

nothing #hide</code></pre><p><img src="guide-simulation.gif" alt/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Friday 28 January 2022 22:02">Friday 28 January 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
