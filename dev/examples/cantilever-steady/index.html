<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Steady State Aeroelastic Analysis of a Highly Flexible Wing · Aeroelasticity.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Aeroelasticity.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../guide/">Guide</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../section-stability/">Aeroelastic Analysis of a Typical Section</a></li><li><a class="tocitem" href="../section-simulation/">Time Domain Simulation of a Typical Section</a></li><li><a class="tocitem" href="../goland-stability/">Aeroelastic Analysis of the Goland Wing</a></li><li class="is-active"><a class="tocitem" href>Steady State Aeroelastic Analysis of a Highly Flexible Wing</a></li><li><a class="tocitem" href="../cantilever-stability/">Aeroelastic Stability Analysis of a Highly Flexible Wing</a></li></ul></li><li><span class="tocitem">Model Documentation</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Aerodynamic Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../models/aerodynamics/steady/">Steady Thin Airfoil Theory</a></li><li><a class="tocitem" href="../../models/aerodynamics/quasisteady/">Quasi-Steady Thin Airfoil Theory</a></li><li><a class="tocitem" href="../../models/aerodynamics/wagner/">Wagner&#39;s Function</a></li><li><a class="tocitem" href="../../models/aerodynamics/peters/">Peters&#39; Finite State</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Structural Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../models/structures/section/">Typical Section</a></li><li><a class="tocitem" href="../../models/structures/rigidbody/">Rigid Body</a></li><li><a class="tocitem" href="../../models/structures/gxbeam/">Geometrically Exact Beam Theory</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Coupled Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../models/couplings/steady-section/">Steady Thin Airfoil Theory + Typical Section</a></li><li><a class="tocitem" href="../../models/couplings/quasisteady-section/">Quasi-Steady Thin Airfoil Theory + Typical Section</a></li><li><a class="tocitem" href="../../models/couplings/wagner-section/">Wagner&#39;s Function + Typical Section</a></li><li><a class="tocitem" href="../../models/couplings/peters-section/">Peters&#39; Finite State + Typical Section</a></li><li><a class="tocitem" href="../../models/couplings/liftingline-rigidbody/">Lifting Line + Rigid Body</a></li><li><a class="tocitem" href="../../models/couplings/liftingline-gxbeam/">Lifting Line + Geometrically Exact Beam Theory</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Steady State Aeroelastic Analysis of a Highly Flexible Wing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Steady State Aeroelastic Analysis of a Highly Flexible Wing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/Aeroelasticity.jl/blob/main/docs/src/literate/cantilever-steady.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="cantilever-steady"><a class="docs-heading-anchor" href="#cantilever-steady">Steady State Aeroelastic Analysis of a Highly Flexible Wing</a><a id="cantilever-steady-1"></a><a class="docs-heading-anchor-permalink" href="#cantilever-steady" title="Permalink"></a></h1><p>In this example, we demonstrate how to find steady state operating conditions for a highly flexible cantilever wing</p><p><img src="../../assets/cantilever-wing.png" alt/></p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>This example is also available as a Jupyter notebook: <a href="https://nbviewer.jupyter.org/github/byuflowlab/Aeroelasticity.jl/blob/gh-pages/dev/examples/cantilever.ipynb"><code>cantilever.ipynb</code></a>.</p></div></div><p>The wing we are considering in this example was created by modifying Daedalus aircraft data and is therefore representative of a high-altitude long-endurance wing. It has a 16 meter span (from root to tip) and a 1 meter chord. To model the wing&#39;s aerodynamics, we use a lifting line model. To model the wing&#39;s structure, we use a geometrically exact beam theory model.</p><pre><code class="language-julia hljs">using Aeroelasticity, GXBeam, NLsolve, LineSearches, LinearAlgebra

# --- Initial Setup --- #

# discretization
N = 8 # number of elements

# geometric properties
span = 16 # m
chord = 1 # m
xref = 0.5 # normalized reference location (from leading edge)
xcg = 0.5 # center of gravity (from leading edge)

# stiffness properties
GJ = 1e4 # N*m^2 (torsional rigidity)
EIyy = 2e4 # N*m^2 (flat bending rigidity)
EIzz = 4e6 # N*m^2 (chord bending rigidity)

# inertial properties
mu = 0.75 # kg/m (mass per unit length)
i11 = 0.1 # kg*m (moment of inertia about elastic axis)
i22 = 0.0375 # moment of inertia about beam y-axis
i33 = 0.0625 # moment of inertia about beam z-axis

# freestream properties
Vinf = 25.0 # m/s (velocity)
rho = 0.0889 # kg/m^3 (air density)
alpha = 10*pi/180 # angle of attack
c = 343.0 # m/s (air speed of sound)
beta = sqrt(1 - Vinf^2/c^2) # Prandtl-Glauert compressibility correction factor

# aerodynamic section properties
a = xref - 0.5 # normalized reference location (relative to semi-chord)
b = chord / 2 # m (semi-chord)
a0 = 2*pi # lift slope (for each section)
alpha0 = 0.0 # zero lift angle of attack (for each section)
cd0 = 0.01
cm0 = 0

# define geometry (assume NED coordinate frame)
xpt = range(0, 0, length=N+1) # point x-coordinates (in body frame)
ypt = range(0, span, length=N+1) # point y-coordinates (in body frame)
zpt = range(0, 0, length=N+1) # point z-coordinates (in body frame)
points = [[xpt[i],ypt[i],zpt[i]] for i = 1:N+1]
start = 1:N # starting point of each beam element
stop = 2:N+1 # ending point of each beam element
e1 = [0, 1,  0] # beam x-axis
e2 = [1, 0,  0] # beam y-axis
e3 = [0, 0, -1] # beam z-axis
frames = fill([e1 e2 e3], N) # local to body frame transformation
compliance = fill(Diagonal([0, 0, 0, 1/GJ, 1/EIyy, 1/EIzz]), N) # compliance matrix
mass = fill(Diagonal([mu, mu, mu, i11, i22, i33]), N) # mass matrix
assembly = GXBeam.Assembly(points, start, stop; frames, compliance, mass)

prescribed_conditions = Dict(
    # fixed left edge
    1 =&gt; GXBeam.PrescribedConditions(ux=0, uy=0, uz=0, theta_x=0, theta_y=0, theta_z=0),
)

# define GXBeam system
system = DynamicSystem(assembly)

# --- Define Submodels --- #

# construct section models (we use Peters&#39; finite state model in this case)
section_models = fill(Peters{6}(), N)

# construct aerodynamic model
aerodynamic_model = LiftingLine(section_models)

# construct structural model
structural_model = GXBeamAssembly(system; structural_damping=false)

# define submodels
submodels = (aerodynamic_model, structural_model)

# --- Define Initial Parameters --- #

V = [-Vinf*cos(alpha), 0.0, -Vinf*sin(alpha)] # m/s (freestream velocity)

# define parameters for each lifting line section
section_parameters = fill([a, b, a0, alpha0, cd0, cm0], N)

# define parameters for the lifting line model
liftingline_parameters = LiftingLineParameters(section_parameters)

# define parameters for the geometrically exact beam theory model
gxbeam_parameters = GXBeamParameters(assembly)

# define parameters for the coupling
coupling_parameters = LiftingLineGXBeamParameters(V, rho, beta;
    prescribed_conditions = prescribed_conditions,
    gravity = [0, 0, 9.81])

# combine parameters
parameters = (liftingline_parameters, gxbeam_parameters, coupling_parameters)

# --- Define Coupled Model --- #

model = CoupledModel(submodels, parameters; symbolic=false)

# --- Perform Analysis --- #

# state rates equal to zero
dx = zeros(number_of_states(model))

# use previously defined parameters
p = parameters

# set time to zero
t = 0.0

# define residual function
f! = (resid, x) -&gt; residual!(resid, model, dx, x, p, t)

# define jacobian function
j! = (jacob, x) -&gt; state_jacobian!(jacob, model, dx, x, p, t)

# define initial guess
x0 = zeros(number_of_states(model))

# find steady state operating conditions
result = nlsolve(f!, j!, x0; method=:newton, linesearch=LineSearches.BackTracking())

# separate state variables into aerodynamic and structural states
λ, x = separate_states(result.zero, model)

# post-process the structural state
state = AssemblyState(x, system, assembly; prescribed_conditions)

# --- Visualize the Result --- #

# DAE-11 Airfoil
dae_11 = [
    1.0         0.0
    0.986283    0.0010768
    0.969651    0.0023497
    0.947994    0.0038679
    0.920015    0.0056143
    0.888329    0.007331
    0.856562    0.0087586
    0.824998    0.0099002
    0.793421    0.0107738
    0.761789    0.0113933
    0.730101    0.0117728
    0.698376    0.0119312
    0.666635    0.0118657
    0.634882    0.0115701
    0.603112    0.0110455
    0.571312    0.0102848
    0.539469    0.0093041
    0.507575    0.0081154
    0.475605    0.0067337
    0.443554    0.0052
    0.411434    0.0035362
    0.37924     0.0017525
    0.346965   -0.0001193
    0.314611   -0.0020681
    0.282172   -0.0040608
    0.249739   -0.0060686
    0.21745    -0.0080524
    0.185384   -0.0099672
    0.153678   -0.011747
    0.122584   -0.0132928
    0.0926077  -0.0144625
    0.0648951  -0.0150664
    0.0414512  -0.0148893
    0.0245731  -0.0138784
    0.0141149  -0.0123747
    0.0080862  -0.0107002
    0.0044148  -0.0087908
    0.0020116  -0.0064284
    0.0004919  -0.003486
    0.0         0.0
    0.000757    0.0051431
    0.0032916   0.0114678
    0.0082926   0.0193346
    0.016496    0.0287274
    0.028364    0.0393002
    0.0439665   0.0505399
    0.0628794   0.0618045
    0.0844076   0.0725648
    0.107915    0.082517
    0.132934    0.091527
    0.159095    0.0995398
    0.186118    0.106551
    0.213791    0.112558
    0.24194     0.117585
    0.270425    0.121658
    0.299149    0.124802
    0.328056    0.127043
    0.357092    0.128382
    0.386183    0.12885
    0.415255    0.128434
    0.444274    0.127109
    0.473223    0.124888
    0.502047    0.121778
    0.530681    0.117774
    0.559141    0.112838
    0.587581    0.106907
    0.616266    0.0999911
    0.645437    0.0922048
    0.675223    0.0837204
    0.705653    0.0747378
    0.736604    0.0655023
    0.767351    0.0564167
    0.79778     0.0476052
    0.82795     0.0391518
    0.857951    0.0311284
    0.887967    0.0235641
    0.918609    0.0163798
    0.947875    0.0100446
    0.970008    0.0056151
    0.986483    0.0025379
    1.0        -0.0
]

sections = zeros(3, size(dae_11, 1), length(points))
sections[1,:,:] .= (xref .- dae_11[:,1]) * chord
sections[3,:,:] .= (-dae_11[:,2]) * chord

# visualize the result
write_vtk(&quot;cantilever-steady-undeformed&quot;, assembly; sections=sections)
write_vtk(&quot;cantilever-steady-deformed&quot;, assembly, state; sections=sections)</code></pre><p><img src="../../assets/cantilever-wing.png" alt/></p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../goland-stability/">« Aeroelastic Analysis of the Goland Wing</a><a class="docs-footer-nextpage" href="../cantilever-stability/">Aeroelastic Stability Analysis of a Highly Flexible Wing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 13 June 2023 05:28">Tuesday 13 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
